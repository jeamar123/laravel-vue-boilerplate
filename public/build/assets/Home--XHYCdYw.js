import{c as p,b as S,o as l,e as m,u as y,w as f,d as _,h as d,f as o,r as A,l as E,j as C,i as r,F as N,m as D,t as b,n as T,g as k,_ as B}from"./app-BbFe0cU4.js";import{C as v,_ as M}from"./Button.vue_vue_type_script_setup_true_lang-ZDuIVhKu.js";import{_ as j}from"./TransactionFilterModal-C6F1vcWy.js";import{_ as w}from"./Loading.vue_vue_type_script_setup_true_lang-I4a_p8vb.js";import{f as g}from"./number-C3yzTPog.js";import{_ as O}from"./Heading.vue_vue_type_script_setup_true_lang-BuE7-4jf.js";/* empty css            */import"./use-text-value-BmQ_WlHA.js";const R={__name:"Sparkline",props:{data:{type:Array,required:!0},labels:{type:Array,required:!0},title:{type:Object,default:{text:"",offsetX:30,style:{fontSize:"24px",cssClass:"apexcharts-yaxis-title"}}},subtitle:{type:Object,default:{text:"",offsetX:30,style:{fontSize:"14px",cssClass:"apexcharts-yaxis-title"}}},color:{type:String,default:"#DCE6EC"}},setup(u){const e=u;var c=["#DCE6EC","#00D8B6","#008FFB","#FEB019","#FF4560","#775DD0"];const n=p(()=>{var t;return[{name:((t=e.subtitle)==null?void 0:t.text)??"",data:e.data??[]}]}),a=p(()=>({chart:{type:"area",height:160,sparkline:{enabled:!0}},stroke:{curve:"straight"},fill:{opacity:1},labels:e.labels??[],yaxis:{min:0,show:!1},xaxis:{type:"datetime"},colors:e.color?[e.color]:c,title:e.title,subtitle:e.subtitle,legend:{show:!1}}));return(t,s)=>{const i=S("apexchart");return l(),m(i,{type:a.value.chart.type,height:a.value.chart.height,options:a.value,series:n.value},null,8,["type","height","options","series"])}}},F={__name:"DonutChart",props:{data:{type:Array,required:!0},labels:{type:Array,required:!0}},setup(u){const e=u,c=p(()=>e.data??[]),n=p(()=>({chart:{width:a>1023?420:"100%",type:"donut"},labels:e.labels??[],fill:{opacity:1},stroke:{width:3,colors:["#f8fafc"]},yaxis:{show:!1},legend:{position:a>1023?"right":"bottom"},plotOptions:{polarArea:{rings:{strokeWidth:0},spokes:{strokeWidth:0}}},theme:{monochrome:{enabled:!0,color:"#08568e",shadeTo:"dark",shadeIntensity:.6}},tooltip:{enabled:!1},dataLabels:{enabled:!1}})),a=window.innerWidth;return(t,s)=>{const i=S("apexchart");return l(),m(i,{type:n.value.chart.type,width:n.value.chart.width,options:n.value,series:c.value},null,8,["type","width","options","series"])}}},z={key:0,class:"relative bottom-[-2px]"},I={key:1,class:"flex min-h-[170px] items-center"},X={__name:"BalanceReport",setup(u){const e=y(),c=p(()=>{var t,s;return(s=(t=e.state.dashboard.balanceReport)==null?void 0:t.current)==null?void 0:s.balance}),n=p(()=>{var t,s;return((s=(t=e.state.dashboard.balanceReport)==null?void 0:t.monthly)==null?void 0:s.map(({balance:i})=>i))||[]}),a=p(()=>{var t,s;return((s=(t=e.state.dashboard.balanceReport)==null?void 0:t.monthly)==null?void 0:s.map(({label:i})=>i))||[]});return(t,s)=>(l(),m(o(v),{class:"!px-0 !pb-0"},{default:f(()=>[c.value!==void 0?(l(),_("div",z,[d(o(R),{title:{text:o(g)(c.value),offsetX:30,style:{fontSize:"32px"}},subtitle:{text:"Balance",offsetX:30,offsetY:40,style:{fontSize:"14px"}},color:"#00D8B6",labels:a.value,data:n.value},null,8,["title","labels","data"])])):(l(),_("div",I,[d(o(w),{placement:"internal","show-text":!1})]))]),_:1}))}},U={key:0,class:"relative bottom-[-2px]"},q={key:1,class:"flex min-h-[170px] items-center"},G={__name:"IncomeReport",setup(u){const e=y(),c=p(()=>{var t,s;return(s=(t=e.state.dashboard.balanceReport)==null?void 0:t.current)==null?void 0:s.income}),n=p(()=>{var t,s;return((s=(t=e.state.dashboard.balanceReport)==null?void 0:t.monthly)==null?void 0:s.map(({income:i})=>i))||[]}),a=p(()=>{var t,s;return((s=(t=e.state.dashboard.balanceReport)==null?void 0:t.monthly)==null?void 0:s.map(({label:i})=>i))||[]});return(t,s)=>(l(),m(o(v),{class:"!px-0 !pb-0"},{default:f(()=>[c.value!==void 0?(l(),_("div",U,[d(o(R),{title:{text:o(g)(c.value),offsetX:30,style:{fontSize:"24px"}},subtitle:{text:"Income",offsetX:30,style:{fontSize:"14px"}},labels:a.value,data:n.value},null,8,["title","labels","data"])])):(l(),_("div",q,[d(o(w),{placement:"internal","show-text":!1})]))]),_:1}))}},H={key:0,class:"relative bottom-[-2px]"},L={key:1,class:"flex min-h-[170px] items-center"},P={__name:"ExpensesReport",setup(u){const e=y(),c=p(()=>{var t,s;return(s=(t=e.state.dashboard.balanceReport)==null?void 0:t.current)==null?void 0:s.expenses}),n=p(()=>{var t,s;return((s=(t=e.state.dashboard.balanceReport)==null?void 0:t.monthly)==null?void 0:s.map(({expenses:i})=>i))||[]}),a=p(()=>{var t,s;return((s=(t=e.state.dashboard.balanceReport)==null?void 0:t.monthly)==null?void 0:s.map(({label:i})=>i))||[]});return(t,s)=>(l(),m(o(v),{class:"!px-0 !pb-0"},{default:f(()=>[c.value!==void 0?(l(),_("div",H,[d(o(R),{title:{text:o(g)(c.value),offsetX:30,style:{fontSize:"24px"}},subtitle:{text:"Expenses",offsetX:30,style:{fontSize:"14px"}},labels:a.value,data:n.value},null,8,["title","labels","data"])])):(l(),_("div",L,[d(o(w),{placement:"internal","show-text":!1})]))]),_:1}))}},V={class:"w-full"},W=r("thead",null,[r("tr",null,[r("th",{class:"bg-slate-900 text-white text-xs text-left font-semibold border-b py-[6px] px-2 rounded-l"}," Note "),r("th",{class:"bg-slate-900 text-white text-xs text-left font-semibold border-b py-[6px] px-2"}," Total "),r("th",{class:"bg-slate-900 text-white text-xs text-left font-semibold border-b py-[6px] px-2 rounded-r"}," Date ")])],-1),Y={class:"text-xs py-[6px] px-2"},Q={key:0,class:"italic"},J={key:1},K={class:"text-xs py-[6px] px-2"},Z={class:"text-xs py-[6px] px-2"},tt={key:0},et=r("td",{colspan:"3",class:"text-xs py-14 px-2 text-center italic"}," No Transactions yet ",-1),st=[et],at={__name:"RecentTransactions",setup(u){const e=y();e.commit;const c=e.dispatch,n=p(()=>e.state.transactions.items.slice(0,6)),a=A(!0);E(async()=>{a.value=!0,await t()});const t=async()=>{await c("REQUEST_GET_TRANSACTIONS",{all:!0}),a.value=!1};return(s,i)=>a.value?k("",!0):(l(),m(o(v),{key:0,class:"lg:col-span-2"},{default:f(()=>[d(o(O),{as:"h4",class:"mb-3"},{default:f(()=>[C("Recent Transactions")]),_:1}),r("table",V,[W,r("tbody",null,[(l(!0),_(N,null,D(n.value,x=>(l(),_("tr",{key:x.id},[r("td",Y,[x.description?(l(),_("span",J,b(x.description),1)):(l(),_("span",Q,"N/A"))]),r("td",K,b(o(g)(x.total)),1),r("td",Z,b(o(T)(x.date,"MMM dd yyyy")),1)]))),128)),n.value.length?k("",!0):(l(),_("tr",tt,st))])])]),_:1}))}},ot={class:"flex items-center justify-center"},lt={key:1,class:"flex items-center justify-center min-h-[200px]"},nt=r("p",{class:"text-center text-center italic"},"No Transactions yet",-1),rt=[nt],ct={__name:"ExpensesCategories",setup(u){const e=y();e.dispatch;const c=p(()=>e.state.transactions.categories.reduce((a,t)=>a+Number(t.total),0)),n=p(()=>({labels:e.state.transactions.categories.filter(({total:a})=>a!==0).map(({name:a})=>a),data:e.state.transactions.categories.filter(({total:a})=>a!==0).map(({total:a})=>a)}));return(a,t)=>(l(),m(o(v),null,{default:f(()=>[d(o(O),{as:"h3",class:"text-slate-800 mb-2"},{default:f(()=>[C("Categories")]),_:1}),r("div",ot,[c.value>0?(l(),m(o(F),{key:0,labels:n.value.labels,data:n.value.data},null,8,["labels","data"])):(l(),_("div",lt,rt))])]),_:1}))}},it={class:"container py-4 md:pt-2 lg:pt-5 px-4 md:px-2 lg:px-8 h-full"},pt={class:"px-2 md:px-0 mb-3 flex flex-row items-start md:items-center justify-between gap-y-2 gap-x-2"},dt={class:"flex flex-col md:flex-row gap-y-5 gap-x-2 md:gap-x-4 md:items-center"},_t={class:"flex items-center gap-x-2"},ut=r("span",{class:"text-xs"},"Filters: ",-1),xt={class:"flex gap-x-2"},ht={key:0,class:"bg-gray-200 rounded py-[2px] px-2 text-[11px]"},mt={class:"flex md:items-center justify-end flex-1 gap-x-2"},ft={class:"grid lg:grid-cols-12 gap-x-5 gap-y-2 lg:gap-y-6"},Rt={__name:"Home",setup(u){const e=y(),c=e.commit,n=e.dispatch,a=p(()=>e.state.dashboard.filters),t=A();E(()=>{s()});const s=()=>{n("FETCH_BALANCE_REPORT"),n("REQUEST_GET_TRANSACTIONS_SUMMARY"),n("REQUEST_GET_TRANSACTIONS_BY_CATEGORY")},i=x=>{const h={filters:{...a.value,start:x.start,end:x.end}};c("UPDATE_DASHBOARD_STATE",h),c("UPDATE_TRANSACTIONS_STATE",h),s()};return(x,h)=>(l(),_(N,null,[r("section",it,[r("div",pt,[r("div",dt,[r("div",_t,[ut,r("div",xt,[Object.keys(a.value).includes("start")&&Object.keys(a.value).includes("end")?(l(),_("div",ht,b(o(T)(a.value.start,"MMM dd, yyyy"))+" - "+b(o(T)(a.value.end,"MMM dd, yyyy")),1)):k("",!0)])])]),r("div",mt,[d(o(M),{variant:"blank",class:"!p-[6px] !border !border-solid !border-slate-800",onClick:h[0]||(h[0]=$=>t.value=!0)},{default:f(()=>[d(o(B),{name:"AdjustmentsHorizontalIconOutline",class:"w-6 h-6 text-slate-900"})]),_:1})])]),r("div",ft,[d(o(X),{class:"lg:col-span-4"}),d(o(G),{class:"lg:col-span-4"}),d(o(P),{class:"lg:col-span-4"}),d(o(at),{class:"lg:col-span-5"}),d(o(ct),{class:"lg:col-span-4"})])]),d(o(j),{show:t.value,onClose:h[1]||(h[1]=$=>t.value=!1),onDatesChanged:h[2]||(h[2]=$=>{i($),t.value=!1})},null,8,["show"])],64))}};export{Rt as default};
