import{o as v,e as w,w as c,h as l,f as o,u as x,r as b,d as S,i as f,j as y,k as $}from"./app-UHyGdYgY.js";import{_ as E}from"./number-BQS_SPu8.js";import{_ as k,a as _}from"./TextInput.vue_vue_type_script_setup_true_lang-DKI3BxrR.js";const O={__name:"CreateCategoryModal",props:{show:{type:Boolean,default:()=>!1},type:{type:String,required:!0}},emits:["close","success"],setup(n,{emit:u}){const s=u;return(i,t)=>(v(),w(o(E),{show:n.show,title:"Create Category","wrapper-class":"lg:max-w-[500px]",onClose:t[2]||(t[2]=a=>s("close"))},{"body-footer":c(()=>[l(o(V),{"api-route":"REQUEST_CREATE_CATEGORY",type:n.type,onClose:t[0]||(t[0]=a=>s("close")),onSuccess:t[1]||(t[1]=a=>s("success"))},null,8,["type"])]),_:1},8,["show"]))}},R={class:"px-6 pt-6 pb-8 space-y-4"},T={class:"flex items-center justify-end gap-x-4 p-4"},V={__name:"CategoryForm",props:{model:{type:Object,default:()=>{}},apiRoute:{type:String,required:!0},type:{type:String,required:!0}},emits:["close","success"],setup(n,{emit:u}){const s=n,i=u,a=x().dispatch,e=b({name:null,type:s.type,errors:{},success:!1,...s.model}),C=async()=>{e.value.errors={};const{data:m,status:r}=await a(s.apiRoute,e.value);[200,201].includes(r)?(e.value.success=!0,g(),a("SHOW_NOTIF_ALERT",{message:"Changes saved."}),i("success")):(e.value.errors=m.errors,e.value.errors.name="")},g=()=>{e.value={name:null,errors:{},success:!1}};return(m,r)=>{var p;return v(),S("form",{novalidate:"",onSubmit:$(C,["prevent"])},[f("div",R,[l(o(k),{modelValue:e.value.name,"onUpdate:modelValue":r[0]||(r[0]=d=>e.value.name=d),label:"Name",errors:(p=e.value.errors)==null?void 0:p.name},null,8,["modelValue","errors"])]),f("div",T,[l(o(_),{variant:"blank",onClick:r[1]||(r[1]=d=>i("close"))},{default:c(()=>[y(" Cancel ")]),_:1}),l(o(_),{type:"submit"},{default:c(()=>[y(" Confirm ")]),_:1})])],32)}}};export{O as _,V as a};
