import{u as C,a as h,c as k,r as U,b as R,o as w,d as E,e as N,f as r,g as S,h as l,w as n,F as L,i as t,t as x,j as u,k as B}from"./app-DrU6nhd4.js";import{_ as o,a as P,C as T}from"./TextInput.vue_vue_type_script_setup_true_lang-DwHfulx2.js";import{_ as F}from"./Loading.vue_vue_type_script_setup_true_lang-DjhMvBsD.js";/* empty css            */import"./_plugin-vue_export-helper-DlAUqK2U.js";const $=t("h5",{class:"text-center text-xl font-medium mb-8",textContent:"Register"},null,-1),j={class:"w-full !mt-10"},z=["textContent"],A=["textContent"],G={class:"text-center text-xs text-gray-600 !mt-10"},Y={__name:"Register",setup(q){const m=C(),g=m.dispatch;h();const V=k(()=>m.state.auth.isLoading),e=U({username:null,password:null,errors:{},success:""}),y=async()=>{if(e.value.errors.message="",!e.value.first_name||!e.value.last_name||!e.value.email||!e.value.username||!e.value.password)return e.value.errors.message="Please input required (*) fields.",!1;if(e.value.password!==e.value.confirm_password)return e.value.errors.message="Passwords does not match.",!1;const{status:d,data:s}=await g("REQUEST_AUTH_REGISTER",e.value);console.log(s),d===201?e.value.success="Registration successful. You can now login.":(e.value.errors=s.errors,e.value.errors.message=s.message)};return(d,s)=>{const b=R("router-link");return w(),E(L,null,[V.value?(w(),N(r(F),{key:0})):S("",!0),l(r(T),{class:"w-[450px] !py-6 !px-6"},{default:n(()=>{var i,p,c,v,f,_;return[$,t("form",{class:"space-y-5",onSubmit:B(y,["prevent"])},[l(r(o),{modelValue:e.value.first_name,"onUpdate:modelValue":s[0]||(s[0]=a=>e.value.first_name=a),name:"first_name",placeholder:"First Name*",errors:(i=e.value.errors)==null?void 0:i.first_name},null,8,["modelValue","errors"]),l(r(o),{modelValue:e.value.last_name,"onUpdate:modelValue":s[1]||(s[1]=a=>e.value.last_name=a),name:"last_name",placeholder:"Last Name*",errors:(p=e.value.errors)==null?void 0:p.last_name},null,8,["modelValue","errors"]),l(r(o),{modelValue:e.value.email,"onUpdate:modelValue":s[2]||(s[2]=a=>e.value.email=a),name:"email",placeholder:"Email*",errors:(c=e.value.errors)==null?void 0:c.email},null,8,["modelValue","errors"]),l(r(o),{modelValue:e.value.username,"onUpdate:modelValue":s[3]||(s[3]=a=>e.value.username=a),name:"username",placeholder:"Username*",errors:(v=e.value.errors)==null?void 0:v.username},null,8,["modelValue","errors"]),l(r(o),{modelValue:e.value.password,"onUpdate:modelValue":s[4]||(s[4]=a=>e.value.password=a),name:"password",type:"password",placeholder:"Password*",errors:(f=e.value.errors)==null?void 0:f.password},null,8,["modelValue","errors"]),l(r(o),{modelValue:e.value.confirm_password,"onUpdate:modelValue":s[5]||(s[5]=a=>e.value.confirm_password=a),type:"password",name:"confirm_password",placeholder:"Confirm Password*",errors:(_=e.value.errors)==null?void 0:_.confirm_password},null,8,["modelValue","errors"]),t("div",j,[t("small",{class:"text-red-500 block mb-2",textContent:x(e.value.errors.message)},null,8,z),l(r(P),{type:"submit","btn-type":"primary","btn-size":"md","text-size":"lg",class:"w-full justify-center",disabled:e.value.success!==""},{default:n(()=>[u(" Submit ")]),_:1},8,["disabled"]),t("small",{class:"text-green-600 block mt-2 w-full text-center",textContent:x(e.value.success)},null,8,A)]),t("p",G,[u(" Already have an account? "),l(b,{to:{name:"Login"},class:"underline hover:text-primary"},{default:n(()=>[u("Go to Login")]),_:1})])],32)]}),_:1})],64)}}};export{Y as default};
