import{v as Q,x as Y,q as C,r as h,y as Z,c as D,z as ee,A as te,B as w,C as ae,D as le,E as ne,G as N,H as O,I as j,J as oe,K as re,N as U,l as ue,L as se,M as V,P as ie,Q as g,R as de,S as K,T as J,U as ce,o as S,d as L,i as k,e as T,w as R,h as P,f as x,p as B,V as ve,t as z,W as me,F as pe,m as fe,j as F,O as ye,n as b,g as A,X as q,Y as W}from"./app-CKrSXwPE.js";import{_ as H}from"./Button.vue_vue_type_script_setup_true_lang-BXoxDvKt.js";import{_ as be}from"./number-qKCM2p7Q.js";import{p as ge,u as he,f as we,c as I}from"./use-text-value-JlwFVxsA.js";function Me({container:a,accept:m,walk:f,enabled:n}){Q(()=>{let l=a.value;if(!l||n!==void 0&&!n.value)return;let r=Y(a);if(!r)return;let e=Object.assign(i=>m(i),{acceptNode:m}),o=r.createTreeWalker(l,NodeFilter.SHOW_ELEMENT,e,!1);for(;o.nextNode();)f(o.currentNode)})}var xe=(a=>(a[a.Open=0]="Open",a[a.Closed=1]="Closed",a))(xe||{}),Ie=(a=>(a[a.Pointer=0]="Pointer",a[a.Other=1]="Other",a))(Ie||{});function ke(a){requestAnimationFrame(()=>requestAnimationFrame(a))}let G=Symbol("MenuContext");function E(a){let m=ie(G,null);if(m===null){let f=new Error(`<${a} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(f,E),f}return m}let Se=C({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(a,{slots:m,attrs:f}){let n=h(1),l=h(null),r=h(null),e=h([]),o=h(""),i=h(null),c=h(1);function v(t=d=>d){let d=i.value!==null?e.value[i.value]:null,s=ce(t(e.value.slice()),M=>w(M.dataRef.domRef)),p=d?s.indexOf(d):null;return p===-1&&(p=null),{items:s,activeItemIndex:p}}let u={menuState:n,buttonRef:l,itemsRef:r,items:e,searchQuery:o,activeItemIndex:i,activationTrigger:c,closeMenu:()=>{n.value=1,i.value=null},openMenu:()=>n.value=0,goToItem(t,d,s){let p=v(),M=we(t===I.Specific?{focus:I.Specific,id:d}:{focus:t},{resolveItems:()=>p.items,resolveActiveIndex:()=>p.activeItemIndex,resolveId:y=>y.id,resolveDisabled:y=>y.dataRef.disabled});o.value="",i.value=M,c.value=s??1,e.value=p.items},search(t){let d=o.value!==""?0:1;o.value+=t.toLowerCase();let s=(i.value!==null?e.value.slice(i.value+d).concat(e.value.slice(0,i.value+d)):e.value).find(M=>M.dataRef.textValue.startsWith(o.value)&&!M.dataRef.disabled),p=s?e.value.indexOf(s):-1;p===-1||p===i.value||(i.value=p,c.value=1)},clearSearch(){o.value=""},registerItem(t,d){let s=v(p=>[...p,{id:t,dataRef:d}]);e.value=s.items,i.value=s.activeItemIndex,c.value=1},unregisterItem(t){let d=v(s=>{let p=s.findIndex(M=>M.id===t);return p!==-1&&s.splice(p,1),s});e.value=d.items,i.value=d.activeItemIndex,c.value=1}};return Z([l,r],(t,d)=>{var s;u.closeMenu(),ee(d,te.Loose)||(t.preventDefault(),(s=w(l))==null||s.focus())},D(()=>n.value===0)),ae(G,u),le(D(()=>ne(n.value,{0:N.Open,1:N.Closed}))),()=>{let t={open:n.value===0,close:u.closeMenu};return O({ourProps:{},theirProps:a,slot:t,slots:m,attrs:f,name:"Menu"})}}}),De=C({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(a,{attrs:m,slots:f,expose:n}){var l;let r=(l=a.id)!=null?l:`headlessui-menu-button-${j()}`,e=E("MenuButton");n({el:e.buttonRef,$el:e.buttonRef});function o(u){switch(u.key){case g.Space:case g.Enter:case g.ArrowDown:u.preventDefault(),u.stopPropagation(),e.openMenu(),V(()=>{var t;(t=w(e.itemsRef))==null||t.focus({preventScroll:!0}),e.goToItem(I.First)});break;case g.ArrowUp:u.preventDefault(),u.stopPropagation(),e.openMenu(),V(()=>{var t;(t=w(e.itemsRef))==null||t.focus({preventScroll:!0}),e.goToItem(I.Last)});break}}function i(u){switch(u.key){case g.Space:u.preventDefault();break}}function c(u){a.disabled||(e.menuState.value===0?(e.closeMenu(),V(()=>{var t;return(t=w(e.buttonRef))==null?void 0:t.focus({preventScroll:!0})})):(u.preventDefault(),e.openMenu(),ke(()=>{var t;return(t=w(e.itemsRef))==null?void 0:t.focus({preventScroll:!0})})))}let v=oe(D(()=>({as:a.as,type:m.type})),e.buttonRef);return()=>{var u;let t={open:e.menuState.value===0},{...d}=a,s={ref:e.buttonRef,id:r,type:v.value,"aria-haspopup":"menu","aria-controls":(u=w(e.itemsRef))==null?void 0:u.id,"aria-expanded":e.menuState.value===0,onKeydown:o,onKeyup:i,onClick:c};return O({ourProps:s,theirProps:d,slot:t,attrs:m,slots:f,name:"MenuButton"})}}}),Re=C({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(a,{attrs:m,slots:f,expose:n}){var l;let r=(l=a.id)!=null?l:`headlessui-menu-items-${j()}`,e=E("MenuItems"),o=h(null);n({el:e.itemsRef,$el:e.itemsRef}),Me({container:D(()=>w(e.itemsRef)),enabled:D(()=>e.menuState.value===0),accept(t){return t.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:t.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(t){t.setAttribute("role","none")}});function i(t){var d;switch(o.value&&clearTimeout(o.value),t.key){case g.Space:if(e.searchQuery.value!=="")return t.preventDefault(),t.stopPropagation(),e.search(t.key);case g.Enter:if(t.preventDefault(),t.stopPropagation(),e.activeItemIndex.value!==null){let s=e.items.value[e.activeItemIndex.value];(d=w(s.dataRef.domRef))==null||d.click()}e.closeMenu(),J(w(e.buttonRef));break;case g.ArrowDown:return t.preventDefault(),t.stopPropagation(),e.goToItem(I.Next);case g.ArrowUp:return t.preventDefault(),t.stopPropagation(),e.goToItem(I.Previous);case g.Home:case g.PageUp:return t.preventDefault(),t.stopPropagation(),e.goToItem(I.First);case g.End:case g.PageDown:return t.preventDefault(),t.stopPropagation(),e.goToItem(I.Last);case g.Escape:t.preventDefault(),t.stopPropagation(),e.closeMenu(),V(()=>{var s;return(s=w(e.buttonRef))==null?void 0:s.focus({preventScroll:!0})});break;case g.Tab:t.preventDefault(),t.stopPropagation(),e.closeMenu(),V(()=>de(w(e.buttonRef),t.shiftKey?K.Previous:K.Next));break;default:t.key.length===1&&(e.search(t.key),o.value=setTimeout(()=>e.clearSearch(),350));break}}function c(t){switch(t.key){case g.Space:t.preventDefault();break}}let v=re(),u=D(()=>v!==null?(v.value&N.Open)===N.Open:e.menuState.value===0);return()=>{var t,d;let s={open:e.menuState.value===0},{...p}=a,M={"aria-activedescendant":e.activeItemIndex.value===null||(t=e.items.value[e.activeItemIndex.value])==null?void 0:t.id,"aria-labelledby":(d=w(e.buttonRef))==null?void 0:d.id,id:r,onKeydown:i,onKeyup:c,role:"menu",tabIndex:0,ref:e.itemsRef};return O({ourProps:M,theirProps:p,slot:s,attrs:m,slots:f,features:U.RenderStrategy|U.Static,visible:u.value,name:"MenuItems"})}}}),Pe=C({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(a,{slots:m,attrs:f,expose:n}){var l;let r=(l=a.id)!=null?l:`headlessui-menu-item-${j()}`,e=E("MenuItem"),o=h(null);n({el:o,$el:o});let i=D(()=>e.activeItemIndex.value!==null?e.items.value[e.activeItemIndex.value].id===r:!1),c=ge(o),v=D(()=>({disabled:a.disabled,get textValue(){return c()},domRef:o}));ue(()=>e.registerItem(r,v)),se(()=>e.unregisterItem(r)),Q(()=>{e.menuState.value===0&&i.value&&e.activationTrigger.value!==0&&V(()=>{var y,$;return($=(y=w(o))==null?void 0:y.scrollIntoView)==null?void 0:$.call(y,{block:"nearest"})})});function u(y){if(a.disabled)return y.preventDefault();e.closeMenu(),J(w(e.buttonRef))}function t(){if(a.disabled)return e.goToItem(I.Nothing);e.goToItem(I.Specific,r)}let d=he();function s(y){d.update(y)}function p(y){d.wasMoved(y)&&(a.disabled||i.value||e.goToItem(I.Specific,r,0))}function M(y){d.wasMoved(y)&&(a.disabled||i.value&&e.goToItem(I.Nothing))}return()=>{let{disabled:y}=a,$={active:i.value,disabled:y,close:e.closeMenu},{...X}=a;return O({ourProps:{id:r,ref:o,role:"menuitem",tabIndex:y===!0?void 0:-1,"aria-disabled":y===!0?!0:void 0,disabled:void 0,onClick:u,onFocus:t,onPointerenter:s,onMouseenter:s,onPointermove:p,onMousemove:p,onPointerleave:M,onMouseleave:M},theirProps:{...f,...X},slot:$,attrs:f,slots:m,name:"MenuItem"})}}});function Te(a,m){return S(),L("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[k("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})])}const Ve={class:"relative"},Ce={class:"block truncate capitalize"},$e=C({__name:"Dropdown",props:{items:{type:Object,required:!0},modelValue:{type:[String,Boolean,Number,Object,null],default:null},dropdownDirection:{type:String,default:"bottom"},placeholder:{type:String,default:""},fixedPlaceholder:{type:Boolean,default:()=>!1},buttonClass:{type:[String,Array,Object],default:""}},emits:["change","update:model-value"],setup(a,{emit:m}){const f=a,n=m,l=h(f.modelValue);return(r,e)=>(S(),T(x(Se),{as:"div",class:"min-w-16 cursor-pointer"},{default:R(()=>[k("div",Ve,[P(x(De),{class:B(["relative flex items-center gap-x-2 w-full rounded py-2 px-3 text-left focus:outline-none text-xs hover:opacity-90 border border-form-border text-slate-700 bg-white",a.buttonClass])},{default:R(()=>[ve(r.$slots,"button-content",{},()=>[k("span",Ce,z(a.fixedPlaceholder?a.placeholder||"Select":l.value?l.value:a.placeholder),1),P(x(Te),{class:"w-4 text-slate-700","aria-hidden":"true"})])]),_:3},8,["class"]),P(me,{"leave-active-class":"transition duration-100 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:R(()=>[P(x(Re),{as:"div",class:B(["absolute max-h-60 border min-w-[150px] overflow-auto rounded-md bg-white z-10",[a.dropdownDirection==="bottom"?"bottom-10 md:bottom-auto md:top-10":"bottom-10"]])},{default:R(()=>[(S(!0),L(pe,null,fe(a.items,o=>(S(),T(x(Pe),{key:o,as:"div",class:"cursor-pointer border-b border-[#e9eef4] px-3 pt-[10px] pb-[7px] text-xs text-[#3d4146] hover:bg-[#f8f9fa] capitalize",onClick:()=>{l.value=o,n("change",l.value),n("update:model-value",l.value)}},{default:R(()=>[F(z(o),1)]),_:2},1032,["onClick"]))),128))]),_:1},8,["class"])]),_:1})])]),_:3}))}}),_={__name:"Datepicker",props:{wrapperClass:{type:[String,Object,Array],default:""},modelValue:{type:[String,Date,Object,Array,null],default:null},monthPicker:{type:Boolean,default:()=>!1},range:{type:Boolean,default:()=>!1}},emits:["update:model-value","range-start","range-end"],setup(a,{emit:m}){const f=a,n=m,l=h(f.modelValue),r=e=>{e&&(l.value=e),n("update:model-value",e)};return(e,o)=>(S(),L("div",{class:B(["relative",a.wrapperClass])},[P(x(ye),{modelValue:l.value,"onUpdate:modelValue":[o[0]||(o[0]=i=>l.value=i),r],"input-class-name":"border-0 rounded-none py-2 px-1 border-b border-form-border outline-none text-sm read-only:border-gray-200 read-only:text-gray-500 read-only:cursor-not-allowed transition-all bg-white text-slate-800 font-sans","menu-class-name":"!border !border-solid !border-form-border",inline:"",teleport:!0,"month-picker":a.monthPicker,range:a.range,"auto-apply":!0,"hide-input-icon":!0,clearable:!1,"enable-time-picker":!1,format:"PP","action-row":{showNow:!1,showPreview:!0,showSelect:!1,showCancel:!1},config:{keepActionRow:!a.monthPicker},onRangeStart:o[1]||(o[1]=i=>n("range-start",l.value)),onRangeEnd:o[2]||(o[2]=i=>n("range-end",l.value))},null,8,["modelValue","month-picker","range","config"])],2))}},Ne={class:"space-y-4 px-6 py-6"},Oe={class:""},Ee=k("label",{class:"text-xs block font-semibold mb-1"},"Type",-1),Ae=k("label",{class:"text-xs block font-semibold mb-1"},"Date",-1),_e={class:"relative z-[1]"},Be={class:"flex items-center justify-end gap-x-4 p-4"},Ke={__name:"TransactionFilterModal",props:{show:{type:Boolean,default:()=>!1}},emits:["close","dates-changed"],setup(a,{emit:m}){const f=m;D(()=>{let c=b(e.value[0],"MMM dd, yyyy"),v=b(e.value[1],"MMM dd, yyyy"),u=`${c} - ${v}`,t=b(new Date(r.value.year,r.value.month),"MMM yyyy");return n.value==="daily"?b(l.value,"MMM dd, yyyy"):n.value==="monthly"?t:n.value==="calendar"?u:"Date label"});const n=h("monthly"),l=h(new Date),r=h({month:Number(b(new Date,"MM"))-1,year:Number(b(new Date,"yyyy"))}),e=h([new Date,new Date]),o=c=>{n.value==="daily"&&(r.value={month:Number(b(l.value,"M"))-1,year:Number(b(l.value,"yyyy"))},e.value=[l.value,l.value]),n.value==="monthly"&&(l.value=new Date(q(new Date(r.value.year,r.value.month))),e.value=[l.value,new Date(W(l.value))]),n.value==="calendar"&&(l.value=e.value[0],r.value={month:Number(b(e.value[0],"M"))-1,year:Number(b(e.value[0],"yyyy"))})},i=()=>{let c={start:new Date,end:new Date};n.value==="daily"&&(c.start=b(l.value,"yyyy-MM-dd"),c.end=b(l.value,"yyyy-MM-dd")),n.value==="monthly"&&(c.start=b(q(new Date(r.value.year,r.value.month)),"yyyy-MM-dd"),c.end=b(W(new Date(r.value.year,r.value.month)),"yyyy-MM-dd")),n.value==="calendar"&&(c.start=b(e.value[0],"yyyy-MM-dd"),c.end=b(e.value[1],"yyyy-MM-dd")),f("dates-changed",c)};return(c,v)=>(S(),T(x(be),{show:a.show,title:"Transaction Filters","wrapper-class":"lg:!max-w-[350px]",onClose:v[4]||(v[4]=u=>f("close"))},{"body-footer":R(()=>[k("div",Ne,[k("div",Oe,[Ee,P(x($e),{modelValue:n.value,"onUpdate:modelValue":v[0]||(v[0]=u=>n.value=u),class:"!min-w-0","button-class":"justify-between",items:["daily","monthly","calendar"]},null,8,["modelValue"])]),k("div",null,[Ae,k("div",_e,[n.value==="daily"?(S(),T(x(_),{key:0,modelValue:l.value,"onUpdate:modelValue":[v[1]||(v[1]=u=>l.value=u),o]},null,8,["modelValue"])):A("",!0),n.value==="monthly"?(S(),T(x(_),{key:1,modelValue:r.value,"onUpdate:modelValue":[v[2]||(v[2]=u=>r.value=u),o],"month-picker":!0},null,8,["modelValue"])):A("",!0),n.value==="calendar"?(S(),T(x(_),{key:2,modelValue:e.value,"onUpdate:modelValue":[v[3]||(v[3]=u=>e.value=u),o],range:!0},null,8,["modelValue"])):A("",!0)])])]),k("div",Be,[P(x(H),{variant:"blank"},{default:R(()=>[F(" Cancel ")]),_:1}),P(x(H),{onClick:i},{default:R(()=>[F(" Submit ")]),_:1})])]),_:1},8,["show"]))}};export{Ke as _,$e as a};
